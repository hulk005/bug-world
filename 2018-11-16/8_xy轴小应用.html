<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
    #wrap{
        width: 500px;
        height: 500px;
        border: 4px solid lightcoral;
        position: relative;
        margin: 100px auto;
    }
    #box{
        width: 100px;
        height: 100px;
        position: absolute;
        top: 0;
        left: 0;
        background: lightblue;
        cursor: move;
    }
    </style>
</head>
<body>
    <div id="wrap">
        <div id="box"></div>
    </div>
</body>
<script>
wrap.onmousemove = function(ev){
    let l = ev.clientX - box.clientWidth/2 - wrap.offsetLeft - wrap.clientLeft;
    let t = ev.clientY - box.clientHeight/2 - wrap.offsetTop - wrap.clientTop;

    if(l<0){
        l=0;
    }else if(l > wrap.clientWidth - box.clientWidth){
        l = wrap.clientWidth - box.clientWidth;
    }

    if(t<0){
        t=0;
    }else if(t>wrap.clientHeight - box.clientHeight){
        t = wrap.clientHeight - box.clientHeight;
    }

    console.log(wrap.clientHeight,box.clientHeight);
    console.log(wrap.offsetTop,box.offsetTop);

    box.style.left = l + 'px';
    box.style.top = t + 'px';

    wrap.onmouseover = function(){
        box.style.display = 'block';
    }
    wrap.onmouseout = function(){
        box.style.display = 'none';
    }
}
</script>
</html>